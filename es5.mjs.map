{"version":3,"file":"es5.mjs","sources":["../src/lib/misc.ts","../src/lib/error-handler.ts","../src/lib/global.ts","../src/lib/warning-handler.ts","../src/lib/warnings.ts","../src/lib/event.ts","../src/lib/event-wrapper.ts","../src/lib/listener.ts","../src/lib/listener-list.ts","../src/lib/listener-list-map.ts","../src/lib/event-target.ts","../src/lib/event-attribute-handler.ts","../src/lib/legacy.ts"],"sourcesContent":[null,null,null,null,null,null,null,null,null,null,null,null,null],"names":["assert","condition","message","args","Error","format","assertType","TypeError","i","replace","anyToString","x","String","Object","toString","call","currentErrorHandler","setErrorHandler","value","undefined","reportError","maybeError","error","dispatchEvent","ErrorEvent","process","emit","console","Global","window","self","global","globalThis","currentWarnHandler","setWarningHandler","Warning","code","stack","warn","InitEventWasCalledWhileDispatching","FalsyWasAssignedToCancelBubble","TruthyWasAssignedToReturnValue","NonCancelableEventWasCanceled","CanceledInPassiveListener","EventListenerWasDuplicated","OptionWasIgnored","InvalidEventListener","InvalidAttributeHandler","Event","NONE","CAPTURING_PHASE","AT_TARGET","BUBBLING_PHASE","type","eventInitDict","opts","internalDataMap","set","bubbles","Boolean","cancelable","composed","target","currentTarget","stopPropagationFlag","stopImmediatePropagationFlag","canceledFlag","inPassiveListenerFlag","dispatchFlag","timeStamp","Date","now","defineProperty","enumerable","$","data","setCancelFlag","WeakMap","event","retv","get","keys","getOwnPropertyNames","prototype","length","setPrototypeOf","EventWrapper","getWrapperClassOf","cancelBubble","defaultPrevented","original","key","defineRedirectDescriptor","stopPropagation","stopImmediatePropagation","preventDefault","returnValue","wrapperClassCache","originalEvent","getPrototypeOf","wrapper","defineWrapper","BaseEventWrapper","originalPrototype","CustomEventWrapper","obj","d","getOwnPropertyDescriptor","bind","configurable","createListener","callback","capture","passive","once","signal","signalListener","flags","setRemoved","listener","isCapture","isPassive","isOnce","isRemoved","invokeCallback","handleEvent","thrownError","findIndexOfListener","listeners","addListener","list","removeListener","addEventListener","cow","push","index","removeListenerAt","disableCow","removeEventListener","filter","_","splice","createListenerListMap","create","ensureListenerList","listenerMap","attrCallback","attrListener","EventTarget","type0","callback0","options0","normalizeAddOptions","aborted","warnDuplicate","normalizeOptions","event0","wrap","eventData","getEventInternalData","DOMException","isTrusted","options","assertCallback","getEventAttributeValue","getEventTargetInternalData","setEventAttributeValue","upsertEventAttributeListener","removeEventAttributeListener","defineEventAttributeCallback","defineCustomEventTarget","CustomEventTarget","defineEventAttribute","_eventClass"],"mappings":";;;;;;;;;;;;;AAAA;;;;;;SAMgBA,OACZC,WACAC;AAGA,MAAI,CAACD,SAAL,EAAgB;AAAA,sCAFbE,IAEa;AAFbA,MAAAA,IAEa;AAAA;;AACZ,UAAM,IAAIC,KAAJ,CAAUC,MAAM,CAACH,OAAD,EAAUC,IAAV,CAAhB,CAAN;AACH;AACJ;AAED;;;;;;;SAMgBG,WACZL,WACAC;AAGA,MAAI,CAACD,SAAL,EAAgB;AAAA,uCAFbE,IAEa;AAFbA,MAAAA,IAEa;AAAA;;AACZ,UAAM,IAAII,SAAJ,CAAcF,MAAM,CAACH,OAAD,EAAUC,IAAV,CAApB,CAAN;AACH;AACJ;AAED;;;;;;SAKgBE,OAAOH,SAAiBC;AACpC,MAAIK,CAAC,GAAG,CAAR;AACA,SAAON,OAAO,CAACO,OAAR,CAAgB,KAAhB,EAAwB;AAAA,WAAMC,WAAW,CAACP,IAAI,CAACK,CAAC,EAAF,CAAL,CAAjB;AAAA,GAAxB,CAAP;AACH;AAED;;;;;SAIgBE,YAAYC;AACxB,MAAI,QAAOA,CAAP,MAAa,QAAb,IAAyBA,CAAC,KAAK,IAAnC,EAAyC;AACrC,WAAOC,MAAM,CAACD,CAAD,CAAb;AACH;;AACD,SAAOE,MAAM,CAACC,QAAP,CAAgBC,IAAhB,CAAqBJ,CAArB,CAAP;AACH;;AC5CD,IAAIK,mBAAJ;AAEA;;;;;SAIgBC,gBACZC;AAEAZ,EAAAA,UAAU,CACN,OAAOY,KAAP,KAAiB,UAAjB,IAA+BA,KAAK,KAAKC,SADnC,EAEN,gEAFM,EAGND,KAHM,CAAV;AAKAF,EAAAA,mBAAmB,GAAGE,KAAtB;AACH;AASD;;;;;SAIgBE,YAAYC;AACxB,MAAI;AACA,QAAMC,KAAK,GACPD,UAAU,YAAYjB,KAAtB,GACMiB,UADN,GAEM,IAAIjB,KAAJ,CAAUM,WAAW,CAACW,UAAD,CAArB,CAHV,CADA;;AAOA,QAAIL,mBAAJ,EAAyB;AACrBA,MAAAA,mBAAmB,CAACM,KAAD,CAAnB;AACA;AACH,KAVD;;;AAaA,QACI,OAAOC,aAAP,KAAyB,UAAzB,IACA,OAAOC,UAAP,KAAsB,UAF1B,EAGE;AACED,MAAAA,aAAa,CACT,IAAIC,UAAJ,CAAe,OAAf,EAAwB;AAAEF,QAAAA,KAAK,EAALA,KAAF;AAASpB,QAAAA,OAAO,EAAEoB,KAAK,CAACpB;AAAxB,OAAxB,CADS,CAAb;AAGH,KAPD;AAUA;AAVA,SAWK,IACD,OAAOuB,OAAP,KAAmB,WAAnB,IACA,OAAOA,OAAO,CAACC,IAAf,KAAwB,UAFvB,EAGH;AACED,QAAAA,OAAO,CAACC,IAAR,CAAa,mBAAb,EAAkCJ,KAAlC;AACA;AACH,OA9BD;;;AAiCAK,IAAAA,OAAO,CAACL,KAAR,CAAcA,KAAd;AACH,GAlCD,CAkCE,SAAA,EAAM;AAEP;AACJ;;ACpED;;;AAGA;AACO,IAAMM,MAAM,GACf,OAAOC,MAAP,KAAkB,WAAlB,GACMA,MADN,GAEM,OAAOC,IAAP,KAAgB,WAAhB,GACAA,IADA,GAEA,OAAOC,MAAP,KAAkB,WAAlB,GACAA,MADA,GAEA,OAAOC,UAAP,KAAsB,WAAtB,GACAA,UADA,GAEAb,SATH;;;;;ACLP,IAAIc,kBAAJ;AAEA;;;;;SAIgBC,kBACZhB;AAEAZ,EAAAA,UAAU,CACN,OAAOY,KAAP,KAAiB,UAAjB,IAA+BA,KAAK,KAAKC,SADnC,EAEN,kEAFM,EAGND,KAHM,CAAV;AAKAe,EAAAA,kBAAkB,GAAGf,KAArB;AACH;AA2BD;;;;IAGaiB,OAAb;AAII,mBAAYC,IAAZ,EAA0BlC,OAA1B;;;AACI,SAAKkC,IAAL,GAAYA,IAAZ;AACA,SAAKlC,OAAL,GAAeA,OAAf;AACH;AAED;;;;;;AATJ;AAAA;AAAA;;;AAcQ,UAAI;AAAA;;AAAA,0CADAC,IACA;AADAA,UAAAA,IACA;AAAA;;AACA;AACA,YAAI8B,kBAAJ,EAAwB;AACpBA,UAAAA,kBAAkB,iCAAM,IAAN;AAAY9B,YAAAA,IAAI,EAAJA;AAAZ,aAAlB;AACA;AACH,SALD;;;AAQA,YAAMkC,KAAK,GAAG,OAAC,IAAIjC,KAAJ,GAAYiC,wCAAS,EAAtB,EAA0B5B,OAA1B,CACV,6KADU,EAEV,IAFU,CAAd;;AAIA,oBAAAkB,OAAO,EAACW,IAAR,kBAAa,KAAKpC,OAAlB,SAA8BC,IAA9B,GAAoCkC,KAApC;AACH,OAbD,CAaE,SAAA,EAAM;AAEP;AACJ;AA9BL;;AAAA;AAAA;;AC9CO,IAAME,kCAAkC,GAAG,IAAIJ,OAAJ,CAC9C,KAD8C,EAE9C,+CAF8C,CAA3C;AAKA,IAAMK,8BAA8B,GAAG,IAAIL,OAAJ,CAC1C,KAD0C,EAE1C,qEAF0C,CAAvC;AAKA,IAAMM,8BAA8B,GAAG,IAAIN,OAAJ,CAC1C,KAD0C,EAE1C,qEAF0C,CAAvC;AAKA,IAAMO,6BAA6B,GAAG,IAAIP,OAAJ,CACzC,KADyC,EAEzC,oDAFyC,CAAtC;AAKA,IAAMQ,yBAAyB,GAAG,IAAIR,OAAJ,CACrC,KADqC,EAErC,oEAFqC,CAAlC;AAKA,IAAMS,0BAA0B,GAAG,IAAIT,OAAJ,CAGtC,KAHsC,EAItC,0EAJsC,CAAnC;AAOA,IAAMU,gBAAgB,GAAG,IAAIV,OAAJ,CAG5B,KAH4B,EAI5B,0FAJ4B,CAAzB;AAOA,IAAMW,oBAAoB,GAAG,IAAIX,OAAJ,CAGhC,KAHgC,EAIhC,2FAJgC,CAA7B;AAOA,IAAMY,uBAAuB,GAAG,IAAIZ,OAAJ,CAErC,KAFqC,EAE9B,gDAF8B,CAAhC;;;;;ACtCP;;AAEA;;;;;;IAKaa,KAAb;AAAA;AAAA;;AACI;;;AADJ;AAKQ,aAAOC,IAAP;AACH;AAED;;;;AARJ;AAAA;AAAA;AAYQ,aAAOC,eAAP;AACH;AAED;;;;AAfJ;AAAA;AAAA;AAmBQ,aAAOC,SAAP;AACH;AAED;;;;AAtBJ;AAAA;AAAA;AA0BQ,aAAOC,cAAP;AACH;AAED;;;;;;;AA7BJ;;AAmCI,iBAAYC,IAAZ,EAA8BC,aAA9B;;;AACI,QAAMC,IAAI,GAAGD,aAAa,SAAb,IAAAA,aAAa,WAAb,GAAAA,aAAA,GAAiB,EAA9B;AAEAE,IAAAA,eAAe,CAACC,GAAhB,CAAoB,IAApB,EAA0B;AACtBJ,MAAAA,IAAI,EAAEzC,MAAM,CAACyC,IAAD,CADU;AAEtBK,MAAAA,OAAO,EAAEC,OAAO,CAACJ,IAAI,CAACG,OAAN,CAFM;AAGtBE,MAAAA,UAAU,EAAED,OAAO,CAACJ,IAAI,CAACK,UAAN,CAHG;AAItBC,MAAAA,QAAQ,EAAEF,OAAO,CAACJ,IAAI,CAACM,QAAN,CAJK;AAKtBC,MAAAA,MAAM,EAAE,IALc;AAMtBC,MAAAA,aAAa,EAAE,IANO;AAOtBC,MAAAA,mBAAmB,EAAE,KAPC;AAQtBC,MAAAA,4BAA4B,EAAE,KARR;AAStBC,MAAAA,YAAY,EAAE,KATQ;AAUtBC,MAAAA,qBAAqB,EAAE,KAVD;AAWtBC,MAAAA,YAAY,EAAE,KAXQ;AAYtBC,MAAAA,SAAS,EAAEC,IAAI,CAACC,GAAL;AAZW,KAA1B;AAeA1D,IAAAA,MAAM,CAAC2D,cAAP,CAAsB,IAAtB,EAA4B,WAA5B,EAAyC;AACrCtD,MAAAA,KAAK,EAAE,KAD8B;AAErCuD,MAAAA,UAAU,EAAE;AAFyB,KAAzC;AAIH;AAED;;;;;;AA3DJ;AAAA;;AA4FI;;;;;AA5FJ;AAkGQ,UAAMV,aAAa,GAAGW,CAAC,CAAC,IAAD,CAAD,CAAQX,aAA9B;;AACA,UAAIA,aAAJ,EAAmB;AACf,eAAO,CAACA,aAAD,CAAP;AACH;;AACD,aAAO,EAAP;AACH;AAED;;;;AAzGJ;AAAA;;AA6II;;;;;AA7IJ;AAmJQW,MAAAA,CAAC,CAAC,IAAD,CAAD,CAAQV,mBAAR,GAA8B,IAA9B;AACH;AAED;;;;;;AAtJJ;AAAA;;AA4KI;;;;AA5KJ;AAiLQ,UAAMW,IAAI,GAAGD,CAAC,CAAC,IAAD,CAAd;AACAC,MAAAA,IAAI,CAACX,mBAAL,GAA2BW,IAAI,CAACV,4BAAL,GAAoC,IAA/D;AACH;AAED;;;;;AArLJ;AAAA;;AA2NI;;;;AA3NJ;AAgOQW,MAAAA,aAAa,CAACF,CAAC,CAAC,IAAD,CAAF,CAAb;AACH;AAED;;;;;AAnOJ;AAAA;;AAiQI;;;AAjQJ,8BAoQcrB,IApQd;UAoQ4BK,8EAAU;UAAOE,iFAAa;AAClD,UAAMe,IAAI,GAAGD,CAAC,CAAC,IAAD,CAAd;;AACA,UAAIC,IAAI,CAACP,YAAT,EAAuB;AACnB7B,QAAAA,kCAAkC,CAACD,IAAnC;AACA;AACH;;AAEDkB,MAAAA,eAAe,CAACC,GAAhB,CAAoB,IAApB,sCACOkB,IADP;AAEItB,QAAAA,IAAI,EAAEzC,MAAM,CAACyC,IAAD,CAFhB;AAGIK,QAAAA,OAAO,EAAEC,OAAO,CAACD,OAAD,CAHpB;AAIIE,QAAAA,UAAU,EAAED,OAAO,CAACC,UAAD,CAJvB;AAKIE,QAAAA,MAAM,EAAE,IALZ;AAMIC,QAAAA,aAAa,EAAE,IANnB;AAOIC,QAAAA,mBAAmB,EAAE,KAPzB;AAQIC,QAAAA,4BAA4B,EAAE,KARlC;AASIC,QAAAA,YAAY,EAAE;AATlB;AAWH;AAtRL;AAAA;AAAA;AAgEQ,aAAOQ,CAAC,CAAC,IAAD,CAAD,CAAQrB,IAAf;AACH;AAED;;;;;AAnEJ;AAAA;AAAA;AAwEQ,aAAOqB,CAAC,CAAC,IAAD,CAAD,CAAQZ,MAAf;AACH;AAED;;;;;;AA3EJ;AAAA;AAAA;AAiFQ,aAAOY,CAAC,CAAC,IAAD,CAAD,CAAQZ,MAAf;AACH;AAED;;;;;AApFJ;AAAA;AAAA;AAyFQ,aAAOY,CAAC,CAAC,IAAD,CAAD,CAAQX,aAAf;AACH;AA1FL;AAAA;AAAA;AA6GQ,aAAOd,IAAP;AACH;AAED;;;;AAhHJ;AAAA;AAAA;AAoHQ,aAAOC,eAAP;AACH;AAED;;;;AAvHJ;AAAA;AAAA;AA2HQ,aAAOC,SAAP;AACH;AAED;;;;AA9HJ;AAAA;AAAA;AAkIQ,aAAOC,cAAP;AACH;AAED;;;;;AArIJ;AAAA;AAAA;AA0IQ,aAAOsB,CAAC,CAAC,IAAD,CAAD,CAAQN,YAAR,GAAuB,CAAvB,GAA2B,CAAlC;AACH;AA3IL;AAAA;AAAA;AA4JQ,aAAOM,CAAC,CAAC,IAAD,CAAD,CAAQV,mBAAf;AACH;AAED;;;;;AA/JJ;AAAA,sBAoKqB9C,KApKrB;AAqKQ,UAAIA,KAAJ,EAAW;AACPwD,QAAAA,CAAC,CAAC,IAAD,CAAD,CAAQV,mBAAR,GAA8B,IAA9B;AACH,OAFD,MAEO;AACHxB,QAAAA,8BAA8B,CAACF,IAA/B;AACH;AACJ;AA1KL;AAAA;AAAA;AA0LQ,aAAOoC,CAAC,CAAC,IAAD,CAAD,CAAQhB,OAAf;AACH;AAED;;;;;AA7LJ;AAAA;AAAA;AAkMQ,aAAOgB,CAAC,CAAC,IAAD,CAAD,CAAQd,UAAf;AACH;AAED;;;;;;AArMJ;AAAA;AAAA;AA2MQ,aAAO,CAACc,CAAC,CAAC,IAAD,CAAD,CAAQR,YAAhB;AACH;AAED;;;;;AA9MJ;AAAA,sBAmNoBhD,KAnNpB;AAoNQ,UAAI,CAACA,KAAL,EAAY;AACR0D,QAAAA,aAAa,CAACF,CAAC,CAAC,IAAD,CAAF,CAAb;AACH,OAFD,MAEO;AACHjC,QAAAA,8BAA8B,CAACH,IAA/B;AACH;AACJ;AAzNL;AAAA;AAAA;AAwOQ,aAAOoC,CAAC,CAAC,IAAD,CAAD,CAAQR,YAAf;AACH;AAED;;;;AA3OJ;AAAA;AAAA;AA+OQ,aAAOQ,CAAC,CAAC,IAAD,CAAD,CAAQb,QAAf;AACH;AAED;;;AAGA;;AArPJ;AAAA;AAAA;AAuPQ,aAAO,KAAP;AACH;AAED;;;;AA1PJ;AAAA;AAAA;AA8PQ,aAAOa,CAAC,CAAC,IAAD,CAAD,CAAQL,SAAf;AACH;AA/PL;;AAAA;AAAA;AA0SA;AACA;;AAEA,IAAMpB,IAAI,GAAG,CAAb;AACA,IAAMC,eAAe,GAAG,CAAxB;AACA,IAAMC,SAAS,GAAG,CAAlB;AACA,IAAMC,cAAc,GAAG,CAAvB;AAyDA;;;;AAGA,IAAMI,eAAe,GAAG,IAAIqB,OAAJ,EAAxB;AAEA;;;;;;AAKA,SAASH,CAAT,CAAWI,KAAX;AACI,MAAMC,IAAI,GAAGvB,eAAe,CAACwB,GAAhB,CAAoBF,KAApB,CAAb;AACAxE,EAAAA,UAAU,CACNyE,IAAI,IAAI,IADF,EAEN,gDAFM,EAGND,KAHM,CAAV;AAKA,SAAOC,IAAP;AACH;AAED;;;;;;AAIA,SAASH,aAAT,CAAuBD,IAAvB;AACI,MAAIA,IAAI,CAACR,qBAAT,EAAgC;AAC5BxB,IAAAA,yBAAyB,CAACL,IAA1B;AACA;AACH;;AACD,MAAI,CAACqC,IAAI,CAACf,UAAV,EAAsB;AAClBlB,IAAAA,6BAA6B,CAACJ,IAA9B;AACA;AACH;;AAEDqC,EAAAA,IAAI,CAACT,YAAL,GAAoB,IAApB;AACH;;;AAGDrD,MAAM,CAAC2D,cAAP,CAAsBxB,KAAtB,EAA6B,MAA7B,EAAqC;AAAEyB,EAAAA,UAAU,EAAE;AAAd,CAArC;AACA5D,MAAM,CAAC2D,cAAP,CAAsBxB,KAAtB,EAA6B,iBAA7B,EAAgD;AAAEyB,EAAAA,UAAU,EAAE;AAAd,CAAhD;AACA5D,MAAM,CAAC2D,cAAP,CAAsBxB,KAAtB,EAA6B,WAA7B,EAA0C;AAAEyB,EAAAA,UAAU,EAAE;AAAd,CAA1C;AACA5D,MAAM,CAAC2D,cAAP,CAAsBxB,KAAtB,EAA6B,gBAA7B,EAA+C;AAAEyB,EAAAA,UAAU,EAAE;AAAd,CAA/C;AACA,IAAMQ,IAAI,GAAGpE,MAAM,CAACqE,mBAAP,CAA2BlC,KAAK,CAACmC,SAAjC,CAAb;;AACA,KAAK,IAAI3E,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyE,IAAI,CAACG,MAAzB,EAAiC,EAAE5E,CAAnC,EAAsC;AAClC,MAAIyE,IAAI,CAACzE,CAAD,CAAJ,KAAY,aAAhB,EAA+B;AAC3B;AACH;;AACDK,EAAAA,MAAM,CAAC2D,cAAP,CAAsBxB,KAAK,CAACmC,SAA5B,EAAuCF,IAAI,CAACzE,CAAD,CAA3C,EAAgD;AAAEiE,IAAAA,UAAU,EAAE;AAAd,GAAhD;AACH;;;AAGD,IAAI,OAAO7C,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,MAAM,CAACoB,KAAd,KAAwB,WAA7D,EAA0E;AACtEnC,EAAAA,MAAM,CAACwE,cAAP,CAAsBrC,KAAK,CAACmC,SAA5B,EAAuCvD,MAAM,CAACoB,KAAP,CAAamC,SAApD;AACH;;;;;AC5aD;;;;;;IAKaG,YAAb;AAAA;;AAAA;;AAAA;AAAA;;AAGI;;;;AAHJ,yBAOiCR,KAPjC;AAQQ,aAAO,KAAKS,iBAAiB,CAACT,KAAD,CAAtB,EAA+BA,KAA/B,CAAP;AACH;AATL;;AAWI,wBAAsBA,KAAtB;;;;;AACI,8BAAMA,KAAK,CAACzB,IAAZ,EAAkB;AACdK,MAAAA,OAAO,EAAEoB,KAAK,CAACpB,OADD;AAEdE,MAAAA,UAAU,EAAEkB,KAAK,CAAClB,UAFJ;AAGdC,MAAAA,QAAQ,EAAEiB,KAAK,CAACjB;AAHF,KAAlB;;AAMA,QAAIiB,KAAK,CAACU,YAAV,EAAwB;AACpB;AACH;;AACD,QAAIV,KAAK,CAACW,gBAAV,EAA4B;AACxB;AACH;;AAEDjC,IAAAA,iBAAe,CAACC,GAAhB,gCAA0B;AAAEiC,MAAAA,QAAQ,EAAEZ;AAAZ,KAA1B;;AAGA,QAAMG,IAAI,GAAGpE,MAAM,CAACoE,IAAP,CAAYH,KAAZ,CAAb;;AACA,SAAK,IAAItE,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyE,IAAI,CAACG,MAAzB,EAAiC,EAAE5E,CAAnC,EAAsC;AAClC,UAAMmF,GAAG,GAAGV,IAAI,CAACzE,CAAD,CAAhB;;AACA,UAAI,EAAEmF,GAAG,iCAAL,CAAJ,EAAoB;AAChB9E,QAAAA,MAAM,CAAC2D,cAAP,gCAEImB,GAFJ,EAGIC,wBAAwB,CAACd,KAAD,EAAQa,GAAR,CAH5B;AAKH;AACJ;;;AACJ;;AAvCL;AAAA;AAAA;AA0CQ;;eAEqBjB,GAAC,CAAC,IAAD;UAAdgB,cAAAA;;AACR,UAAI,qBAAqBA,QAAzB,EAAmC;AAC/BA,QAAAA,QAAQ,CAACG,eAAT;AACH;AACJ;AAhDL;AAAA;AAAA;AA+DQ;;gBAEqBnB,GAAC,CAAC,IAAD;UAAdgB,eAAAA;;AACR,UAAI,8BAA8BA,QAAlC,EAA4C;AACxCA,QAAAA,QAAQ,CAACI,wBAAT;AACH;AACJ;AArEL;AAAA;AAAA;AAoFQ;;gBAEqBpB,GAAC,CAAC,IAAD;UAAdgB,eAAAA;;AACR,UAAI,oBAAoBA,QAAxB,EAAkC;AAC9BA,QAAAA,QAAQ,CAACK,cAAT;AACH;AACJ;AA1FL;AAAA;AAAA;AAmDQ;AACH,KApDL;AAAA,sBAqDqB7E,KArDrB;AAsDQ,oEAAqBA,KAArB;;gBAEqBwD,GAAC,CAAC,IAAD;UAAdgB,eAAAA;;AACR,UAAI,kBAAkBA,QAAtB,EAAgC;AAC5BA,QAAAA,QAAQ,CAACF,YAAT,GAAwBtE,KAAxB;AACH;AACJ;AA5DL;AAAA;AAAA;AAwEQ;AACH,KAzEL;AAAA,sBA0EoBA,KA1EpB;AA2EQ,mEAAoBA,KAApB;;gBAEqBwD,GAAC,CAAC,IAAD;UAAdgB,eAAAA;;AACR,UAAI,iBAAiBA,QAArB,EAA+B;AAC3BA,QAAAA,QAAQ,CAACM,WAAT,GAAuB9E,KAAvB;AACH;AACJ;AAjFL;AAAA;AAAA;gBA6F6BwD,GAAC,CAAC,IAAD;UAAdgB,eAAAA;;AACR,UAAI,eAAeA,QAAnB,EAA6B;AACzB,eAAOA,QAAQ,CAACrB,SAAhB;AACH;;AACD;AACH;AAlGL;;AAAA;AAAA,EAEUrB,KAFV;AA6GA;;;;AAGA,IAAMQ,iBAAe,GAAG,IAAIqB,OAAJ,EAAxB;AAEA;;;;;;AAKA,SAASH,GAAT,CAAWI,KAAX;AACI,MAAMC,IAAI,GAAGvB,iBAAe,CAACwB,GAAhB,CAAoBF,KAApB,CAAb;AACAxE,EAAAA,UAAU,CACNyE,IAAI,IAAI,IADF,EAEN,6CAFM,EAGND,KAHM,CAAV;AAKA,SAAOC,IAAP;AACH;AAED;;;;;;;AAKA,IAAMkB,iBAAiB,GAAG,IAAIpB,OAAJ,EAA1B;;AAGAoB,iBAAiB,CAACxC,GAAlB,CAAsB5C,MAAM,CAACsE,SAA7B,EAAwCG,YAAxC;;AACA,IAAI,OAAO1D,MAAP,KAAkB,WAAlB,IAAiC,OAAOA,MAAM,CAACoB,KAAd,KAAwB,WAA7D,EAA0E;AACtEiD,EAAAA,iBAAiB,CAACxC,GAAlB,CAAsB7B,MAAM,CAACoB,KAAP,CAAamC,SAAnC,EAA8CG,YAA9C;AACH;AAED;;;;;;AAIA,SAASC,iBAAT,CAA2BW,aAA3B;AACI,MAAMf,SAAS,GAAGtE,MAAM,CAACsF,cAAP,CAAsBD,aAAtB,CAAlB;;AACA,MAAIf,SAAS,IAAI,IAAjB,EAAuB;AACnB,WAAOG,YAAP;AACH;;AAED,MAAIc,OAAO,GAAGH,iBAAiB,CAACjB,GAAlB,CAAsBG,SAAtB,CAAd;;AACA,MAAIiB,OAAO,IAAI,IAAf,EAAqB;AACjBA,IAAAA,OAAO,GAAGC,aAAa,CAACd,iBAAiB,CAACJ,SAAD,CAAlB,EAA+BA,SAA/B,CAAvB;AACAc,IAAAA,iBAAiB,CAACxC,GAAlB,CAAsB0B,SAAtB,EAAiCiB,OAAjC;AACH;;AAED,SAAOA,OAAP;AACH;AAED;;;;;;;AAKA,SAASC,aAAT,CAAuBC,gBAAvB,EAA8CC,iBAA9C;MACUC;;;;;;;;;;;;IAA2BF;;AAEjC,MAAMrB,IAAI,GAAGpE,MAAM,CAACoE,IAAP,CAAYsB,iBAAZ,CAAb;;AACA,OAAK,IAAI/F,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGyE,IAAI,CAACG,MAAzB,EAAiC,EAAE5E,CAAnC,EAAsC;AAClCK,IAAAA,MAAM,CAAC2D,cAAP,CACIgC,kBAAkB,CAACrB,SADvB,EAEIF,IAAI,CAACzE,CAAD,CAFR,EAGIoF,wBAAwB,CAACW,iBAAD,EAAoBtB,IAAI,CAACzE,CAAD,CAAxB,CAH5B;AAKH;;AAED,SAAOgG,kBAAP;AACH;AAED;;;;;AAGA,SAASZ,wBAAT,CAAkCa,GAAlC,EAA4Cd,GAA5C;AACI,MAAMe,CAAC,GAAG7F,MAAM,CAAC8F,wBAAP,CAAgCF,GAAhC,EAAqCd,GAArC,CAAV;AACA,SAAO;AACHX,IAAAA,GADG;AAEC,UAAMU,QAAQ,GAAQhB,GAAC,CAAC,IAAD,CAAD,CAAQgB,QAA9B;AACA,UAAMxE,KAAK,GAAGwE,QAAQ,CAACC,GAAD,CAAtB;;AACA,UAAI,OAAOzE,KAAP,KAAiB,UAArB,EAAiC;AAC7B,eAAOA,KAAK,CAAC0F,IAAN,CAAWlB,QAAX,CAAP;AACH;;AACD,aAAOxE,KAAP;AACH,KARE;AASHuC,IAAAA,GATG,eASCvC,KATD;AAUC,UAAMwE,QAAQ,GAAQhB,GAAC,CAAC,IAAD,CAAD,CAAQgB,QAA9B;AACAA,MAAAA,QAAQ,CAACC,GAAD,CAAR,GAAgBzE,KAAhB;AACH,KAZE;AAaH2F,IAAAA,YAAY,EAAEH,CAAC,CAACG,YAbb;AAcHpC,IAAAA,UAAU,EAAEiC,CAAC,CAACjC;AAdX,GAAP;AAgBH;;AC/JD;;;;;;;;;;SASgBqC,eACZC,UACAC,SACAC,SACAC,MACAC,QACAC;AAEA,SAAO;AACHL,IAAAA,QAAQ,EAARA,QADG;AAEHM,IAAAA,KAAK,EACD,CAACL,OAAO;;AAAA,MAA2B,CAAnC,KACCC,OAAO;;AAAA,MAA2B,CADnC,KAECC,IAAI;;AAAA,MAAwB,CAF7B,CAHD;AAMHC,IAAAA,MAAM,EAANA,MANG;AAOHC,IAAAA,cAAc,EAAdA;AAPG,GAAP;AASH;AAED;;;;;SAIgBE,WAAWC;AACvBA,EAAAA,QAAQ,CAACF,KAAT;;AAAA;AACH;AAED;;;;;SAIgBG,UAAUD;AACtB,SAAO,CAACA,QAAQ,CAACF,KAAT;;AAAD;;AAAP;AACH;AAED;;;;;SAIgBI,UAAUF;AACtB,SAAO,CAACA,QAAQ,CAACF,KAAT;;AAAD;;AAAP;AACH;AAED;;;;;SAIgBK,OAAOH;AACnB,SAAO,CAACA,QAAQ,CAACF,KAAT;;AAAD;;AAAP;AACH;AAED;;;;;SAIgBM,UAAUJ;AACtB,SAAO,CAACA,QAAQ,CAACF,KAAT;;AAAD;;AAAP;AACH;AAED;;;;;;;;SAOgBO,qBAEZ9D,QACAgB;MAFEiC,gBAAAA;;AAIF,MAAI;AACA,QAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAChCA,MAAAA,QAAQ,CAAChG,IAAT,CAAc+C,MAAd,EAAsBgB,KAAtB;AACH,KAFD,MAEO,IAAI,OAAOiC,QAAQ,CAACc,WAAhB,KAAgC,UAApC,EAAgD;AACnDd,MAAAA,QAAQ,CAACc,WAAT,CAAqB/C,KAArB;AACH;AACJ,GAND,CAME,OAAOgD,WAAP,EAAoB;AAClB1G,IAAAA,WAAW,CAAC0G,WAAD,CAAX;AACH;AACJ;;ACpHD;;;;;;;;SAOgBC,0BAEZhB,UACAC;MAFEgB,iBAAAA;;AAIF,OAAK,IAAIxH,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwH,SAAS,CAAC5C,MAA9B,EAAsC,EAAE5E,CAAxC,EAA2C;AACvC,QACIwH,SAAS,CAACxH,CAAD,CAAT,CAAauG,QAAb,KAA0BA,QAA1B,IACAS,SAAS,CAACQ,SAAS,CAACxH,CAAD,CAAV,CAAT,KAA4BwG,OAFhC,EAGE;AACE,aAAOxG,CAAP;AACH;AACJ;;AACD,SAAO,CAAC,CAAR;AACH;AAED;;;;;;;;;;;SAUgByH,YACZC,MACAnB,UACAC,SACAC,SACAC,MACAC;AAEA,MAAIC,cAAJ;;AACA,MAAID,MAAJ,EAAY;AACRC,IAAAA,cAAc,GAAGe,cAAc,CAACvB,IAAf,CAAoB,IAApB,EAA0BsB,IAA1B,EAAgCnB,QAAhC,EAA0CC,OAA1C,CAAjB;AACAG,IAAAA,MAAM,CAACiB,gBAAP,CAAwB,OAAxB,EAAiChB,cAAjC;AACH;;AAED,MAAMG,QAAQ,GAAGT,cAAc,CAC3BC,QAD2B,EAE3BC,OAF2B,EAG3BC,OAH2B,EAI3BC,IAJ2B,EAK3BC,MAL2B,EAM3BC,cAN2B,CAA/B;;AASA,MAAIc,IAAI,CAACG,GAAT,EAAc;AACVH,IAAAA,IAAI,CAACG,GAAL,GAAW,KAAX;AACAH,IAAAA,IAAI,CAACF,SAAL,gCAAqBE,IAAI,CAACF,SAA1B,IAAqCT,QAArC;AACH,GAHD,MAGO;AACHW,IAAAA,IAAI,CAACF,SAAL,CAAeM,IAAf,CAAoBf,QAApB;AACH;;AAED,SAAOA,QAAP;AACH;AAED;;;;;;;;SAOgBY,eACZD,MACAnB,UACAC;AAEA,MAAMuB,KAAK,GAAGR,mBAAmB,CAACG,IAAD,EAAOnB,QAAP,EAAiBC,OAAjB,CAAjC;;AACA,MAAIuB,KAAK,KAAK,CAAC,CAAf,EAAkB;AACd,WAAOC,gBAAgB,CAACN,IAAD,EAAOK,KAAP,CAAvB;AACH;;AACD,SAAO,KAAP;AACH;AAED;;;;;;;;SAOgBC,iBACZN,MACAK;MACAE,iFAAa;AAEb,MAAMlB,QAAQ,GAAGW,IAAI,CAACF,SAAL,CAAeO,KAAf,CAAjB;;AAGAjB,EAAAA,UAAU,CAACC,QAAD,CAAV;;AAGA,MAAIA,QAAQ,CAACJ,MAAb,EAAqB;AACjBI,IAAAA,QAAQ,CAACJ,MAAT,CAAgBuB,mBAAhB,CAAoC,OAApC,EAA6CnB,QAAQ,CAACH,cAAtD;AACH;;;AAGD,MAAIc,IAAI,CAACG,GAAL,IAAY,CAACI,UAAjB,EAA6B;AACzBP,IAAAA,IAAI,CAACG,GAAL,GAAW,KAAX;AACAH,IAAAA,IAAI,CAACF,SAAL,GAAiBE,IAAI,CAACF,SAAL,CAAeW,MAAf,CAAsB,UAACC,CAAD,EAAIpI,CAAJ;AAAA,aAAUA,CAAC,KAAK+H,KAAhB;AAAA,KAAtB,CAAjB;AACA,WAAO,KAAP;AACH;;AACDL,EAAAA,IAAI,CAACF,SAAL,CAAea,MAAf,CAAsBN,KAAtB,EAA6B,CAA7B;AACA,SAAO,IAAP;AACH;;ACnID;;;SAGgBO;AACZ,SAAOjI,MAAM,CAACkI,MAAP,CAAc,IAAd,CAAP;AACH;AAED;;;;;;;SAMgBC,mBACZC,aACA5F;;;AAEA,eAAQ4F,WAAW,CAAC5F,IAAD,oCAAX4F,WAAW,CAAC5F,IAAD,CAAX,GAAsB;AAC1B6F,IAAAA,YAAY,EAAE/H,SADY;AAE1BgI,IAAAA,YAAY,EAAEhI,SAFY;AAG1BkH,IAAAA,GAAG,EAAE,KAHqB;AAI1BL,IAAAA,SAAS,EAAE;AAJe,GAA9B;AAMH;;ACFD;;;;;IAIaoB,WAAb;AAII;;;AAGA;;;AACI5F,IAAAA,iBAAe,CAACC,GAAhB,CAAoB,IAApB,EAA0BqF,qBAAqB,EAA/C;AACH,GATL;;;AAAA;AAAA;AAAA,qCAkEQO,KAlER,EAmEQC,SAnER,EAoEQC,QApER;AAsEQ,UAAMN,WAAW,GAAGvE,GAAC,CAAC,IAAD,CAArB;;iCAQI8E,mBAAmB,CAACH,KAAD,EAAQC,SAAR,EAAmBC,QAAnB;UANnBxC,gCAAAA;UACAC,+BAAAA;UACAE,4BAAAA;UACAD,+BAAAA;UACAE,8BAAAA;UACA9D,4BAAAA;;AAEJ,UAAI0D,QAAQ,IAAI,IAAZ,KAAoBI,MAAM,SAAN,IAAAA,MAAM,WAAN,SAAA,GAAAA,MAAM,CAAEsC,OAA5B,CAAJ,EAAyC;AACrC;AACH;;AACD,UAAMvB,IAAI,GAAGc,kBAAkB,CAACC,WAAD,EAAc5F,IAAd,CAA/B;;AAGA,UAAM7C,CAAC,GAAGuH,mBAAmB,CAACG,IAAD,EAAOnB,QAAP,EAAiBC,OAAjB,CAA7B;;AACA,UAAIxG,CAAC,KAAK,CAAC,CAAX,EAAc;AACVkJ,QAAAA,aAAa,CAACxB,IAAI,CAACF,SAAL,CAAexH,CAAf,CAAD,EAAoByG,OAApB,EAA6BC,IAA7B,EAAmCC,MAAnC,CAAb;AACA;AACH;;;AAGDc,MAAAA,WAAW,CAACC,IAAD,EAAOnB,QAAP,EAAiBC,OAAjB,EAA0BC,OAA1B,EAAmCC,IAAnC,EAAyCC,MAAzC,CAAX;AACH,KA7FL;;AAAA;AAAA;AAAA,wCAsJQkC,KAtJR,EAuJQC,SAvJR,EAwJQC,QAxJR;AA0JQ,UAAMN,WAAW,GAAGvE,GAAC,CAAC,IAAD,CAArB;;8BACoCiF,gBAAgB,CAChDN,KADgD,EAEhDC,SAFgD,EAGhDC,QAHgD;UAA5CxC,6BAAAA;UAAUC,4BAAAA;UAAS3D,yBAAAA;;AAK3B,UAAM6E,IAAI,GAAGe,WAAW,CAAC5F,IAAD,CAAxB;;AAEA,UAAI0D,QAAQ,IAAI,IAAZ,IAAoBmB,IAAxB,EAA8B;AAC1BC,QAAAA,cAAc,CAACD,IAAD,EAAOnB,QAAP,EAAiBC,OAAjB,CAAd;AACH;AACJ,KArKL;;AAAA;AAAA;AAAA,kCAsLkB4C,MAtLlB;AAuLQ,UAAM1B,IAAI,GAAGxD,GAAC,CAAC,IAAD,CAAD,CAAQ9D,MAAM,CAACgJ,MAAM,CAACvG,IAAR,CAAd,CAAb;;AACA,UAAI6E,IAAI,IAAI,IAAZ,EAAkB;AACd,eAAO,IAAP;AACH;;AAED,UAAMpD,KAAK,GACP8E,MAAM,YAAY5G,KAAlB,GAA0B4G,MAA1B,GAAmCtE,YAAY,CAACuE,IAAb,CAAkBD,MAAlB,CADvC;AAEA,UAAME,SAAS,GAAGC,CAAoB,CAACjF,KAAD,CAAtC;;AACA,UAAIgF,SAAS,CAAC1F,YAAd,EAA4B;AACxB,cAAM,IAAI4F,YAAJ,CACF,qCADE,EAEF,mBAFE,CAAN;AAIH;;AACDhK,MAAAA,MAAM,CAAC8E,KAAK,CAACmF,SAAN,KAAoB,KAArB,EAA4B,oCAA5B,CAAN;AAEAH,MAAAA,SAAS,CAAC1F,YAAV,GAAyB,IAAzB;AACA0F,MAAAA,SAAS,CAAChG,MAAV,GAAmBgG,SAAS,CAAC/F,aAAV,GAA0B,IAA7C;;AAEA,UAAI,CAAC+F,SAAS,CAAC9F,mBAAf,EAAoC;AAAA,YACxBqE,GADwB,GACLH,IADK,CACxBG,GADwB;AAAA,YACnBL,SADmB,GACLE,IADK,CACnBF,SADmB;;AAIhCE,QAAAA,IAAI,CAACG,GAAL,GAAW,IAAX,CAJgC;;AAOhC,aAAK,IAAI7H,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGwH,SAAS,CAAC5C,MAA9B,EAAsC,EAAE5E,CAAxC,EAA2C;AACvC,cAAM+G,QAAQ,GAAGS,SAAS,CAACxH,CAAD,CAA1B,CADuC;;AAIvC,cAAImH,SAAS,CAACJ,QAAD,CAAb,EAAyB;AACrB;AACH,WANsC;;;AASvC,cAAIG,MAAM,CAACH,QAAD,CAAN,IAAoBiB,gBAAgB,CAACN,IAAD,EAAO1H,CAAP,EAAU,CAAC6H,GAAX,CAAxC,EAAyD;AACrD;AACA;AACA7H,YAAAA,CAAC,IAAI,CAAL;AACH,WAbsC;;;AAgBvCsJ,UAAAA,SAAS,CAAC3F,qBAAV,GAAkCsD,SAAS,CAACF,QAAD,CAA3C;AACAK,UAAAA,cAAc,CAACL,QAAD,EAAW,IAAX,EAAiBzC,KAAjB,CAAd;AACAgF,UAAAA,SAAS,CAAC3F,qBAAV,GAAkC,KAAlC,CAlBuC;;AAqBvC,cAAI2F,SAAS,CAAC7F,4BAAd,EAA4C;AACxC;AACH;AACJ,SA/B+B;;;AAkChC,YAAI,CAACoE,GAAL,EAAU;AACNH,UAAAA,IAAI,CAACG,GAAL,GAAW,KAAX;AACH;AACJ;;AAEDyB,MAAAA,SAAS,CAAChG,MAAV,GAAmB,IAAnB;AACAgG,MAAAA,SAAS,CAAC/F,aAAV,GAA0B,IAA1B;AACA+F,MAAAA,SAAS,CAAC7F,4BAAV,GAAyC,KAAzC;AACA6F,MAAAA,SAAS,CAAC9F,mBAAV,GAAgC,KAAhC;AACA8F,MAAAA,SAAS,CAAC1F,YAAV,GAAyB,KAAzB;AAEA,aAAO,CAAC0F,SAAS,CAAC5F,YAAlB;AACH;AAxPL;;AAAA;AAAA;AA6WA;;;;AAGA,IAAMV,iBAAe,GAAG,IAAIqB,OAAJ,EAAxB;AAEA;;;;;;AAKA,SAASH,GAAT,CAAWZ,MAAX;AACI,MAAMiB,IAAI,GAAGvB,iBAAe,CAACwB,GAAhB,CAAoBlB,MAApB,CAAb;AACAxD,EAAAA,UAAU,CACNyE,IAAI,IAAI,IADF,EAEN,sDAFM,EAGNjB,MAHM,CAAV;AAKA,SAAOiB,IAAP;AACH;AAED;;;;;;AAIA,SAASyE,mBAAT,CACInG,IADJ,EAEI0D,QAFJ,EAGImD,OAHJ;;;AAYIC,EAAAA,cAAc,CAACpD,QAAD,CAAd;;AAEA,MAAI,QAAOmD,OAAP,MAAmB,QAAnB,IAA+BA,OAAO,KAAK,IAA/C,EAAqD;AACjD,WAAO;AACH7G,MAAAA,IAAI,EAAEzC,MAAM,CAACyC,IAAD,CADT;AAEH0D,MAAAA,QAAQ,EAAEA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,GAAAA,QAAA,GAAY5F,SAFnB;AAGH6F,MAAAA,OAAO,EAAErD,OAAO,CAACuG,OAAO,CAAClD,OAAT,CAHb;AAIHC,MAAAA,OAAO,EAAEtD,OAAO,CAACuG,OAAO,CAACjD,OAAT,CAJb;AAKHC,MAAAA,IAAI,EAAEvD,OAAO,CAACuG,OAAO,CAAChD,IAAT,CALV;AAMHC,MAAAA,MAAM,QAAE+C,OAAO,CAAC/C,yCAAUhG;AANvB,KAAP;AAQH;;AAED,SAAO;AACHkC,IAAAA,IAAI,EAAEzC,MAAM,CAACyC,IAAD,CADT;AAEH0D,IAAAA,QAAQ,EAAEA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,GAAAA,QAAA,GAAY5F,SAFnB;AAGH6F,IAAAA,OAAO,EAAErD,OAAO,CAACuG,OAAD,CAHb;AAIHjD,IAAAA,OAAO,EAAE,KAJN;AAKHC,IAAAA,IAAI,EAAE,KALH;AAMHC,IAAAA,MAAM,EAAEhG;AANL,GAAP;AAQH;AAED;;;;;;AAIA,SAASwI,gBAAT,CACItG,IADJ,EAEI0D,QAFJ,EAGImD,OAHJ;AASIC,EAAAA,cAAc,CAACpD,QAAD,CAAd;;AAEA,MAAI,QAAOmD,OAAP,MAAmB,QAAnB,IAA+BA,OAAO,KAAK,IAA/C,EAAqD;AACjD,WAAO;AACH7G,MAAAA,IAAI,EAAEzC,MAAM,CAACyC,IAAD,CADT;AAEH0D,MAAAA,QAAQ,EAAEA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,GAAAA,QAAA,GAAY5F,SAFnB;AAGH6F,MAAAA,OAAO,EAAErD,OAAO,CAACuG,OAAO,CAAClD,OAAT;AAHb,KAAP;AAKH;;AAED,SAAO;AACH3D,IAAAA,IAAI,EAAEzC,MAAM,CAACyC,IAAD,CADT;AAEH0D,IAAAA,QAAQ,EAAEA,QAAQ,SAAR,IAAAA,QAAQ,WAAR,GAAAA,QAAA,GAAY5F,SAFnB;AAGH6F,IAAAA,OAAO,EAAErD,OAAO,CAACuG,OAAD;AAHb,GAAP;AAKH;AAED;;;;;;AAIA,SAASC,cAAT,CAAwBpD,QAAxB;AACI,MACI,OAAOA,QAAP,KAAoB,UAApB,IACC,QAAOA,QAAP,MAAoB,QAApB,IACGA,QAAQ,KAAK,IADhB,IAEG,OAAOA,QAAQ,CAACc,WAAhB,KAAgC,UAJxC,EAKE;AACE;AACH;;AACD,MAAId,QAAQ,IAAI,IAAZ,IAAoB,QAAOA,QAAP,MAAoB,QAA5C,EAAsD;AAClDjE,IAAAA,oBAAoB,CAACR,IAArB,CAA0ByE,QAA1B;AACA;AACH;;AAED,QAAM,IAAIxG,SAAJ,CAAcF,MAAM,CAACyC,oBAAoB,CAAC5C,OAAtB,EAA+B,CAAC6G,QAAD,CAA/B,CAApB,CAAN;AACH;AAED;;;;;;;;;AAOA,SAAS2C,aAAT,CACInC,QADJ,EAEIN,OAFJ,EAGIC,IAHJ,EAIIC,MAJJ;AAMIvE,EAAAA,0BAA0B,CAACN,IAA3B,CACIkF,SAAS,CAACD,QAAD,CAAT,GAAsB,SAAtB,GAAkC,QADtC,EAEIA,QAAQ,CAACR,QAFb;;AAKA,MAAIU,SAAS,CAACF,QAAD,CAAT,KAAwBN,OAA5B,EAAqC;AACjCpE,IAAAA,gBAAgB,CAACP,IAAjB,CAAsB,SAAtB;AACH;;AACD,MAAIoF,MAAM,CAACH,QAAD,CAAN,KAAqBL,IAAzB,EAA+B;AAC3BrE,IAAAA,gBAAgB,CAACP,IAAjB,CAAsB,MAAtB;AACH;;AACD,MAAIiF,QAAQ,CAACJ,MAAT,KAAoBA,MAAxB,EAAgC;AAC5BtE,IAAAA,gBAAgB,CAACP,IAAjB,CAAsB,QAAtB;AACH;AACJ;;;AAGD,IAAM2C,MAAI,GAAGpE,MAAM,CAACqE,mBAAP,CAA2BkE,WAAW,CAACjE,SAAvC,CAAb;;AACA,KAAK,IAAI3E,GAAC,GAAG,CAAb,EAAgBA,GAAC,GAAGyE,MAAI,CAACG,MAAzB,EAAiC,EAAE5E,GAAnC,EAAsC;AAClC,MAAIyE,MAAI,CAACzE,GAAD,CAAJ,KAAY,aAAhB,EAA+B;AAC3B;AACH;;AACDK,EAAAA,MAAM,CAAC2D,cAAP,CAAsB4E,WAAW,CAACjE,SAAlC,EAA6CF,MAAI,CAACzE,GAAD,CAAjD,EAAsD;AAAEiE,IAAAA,UAAU,EAAE;AAAd,GAAtD;AACH;;;AAGD,IACI,OAAO7C,MAAP,KAAkB,WAAlB,IACA,OAAOA,MAAM,CAACwH,WAAd,KAA8B,WAFlC,EAGE;AACEvI,EAAAA,MAAM,CAACwE,cAAP,CAAsB+D,WAAW,CAACjE,SAAlC,EAA6CvD,MAAM,CAACwH,WAAP,CAAmBjE,SAAhE;AACH;;ACniBD;;;;;;SAKgBiF,uBAIZtG,QACAT;;;AAEA,qBAAOgH,GAA0B,CAACvG,MAAD,CAA1B,CAAmCT,IAAnC,2CAA0C6F,+CAAgB,IAAjE;AACH;AAED;;;;;;;SAMgBoB,uBACZxG,QACAT,MACA0D;AAEA,MAAIA,QAAQ,IAAI,IAAZ,IAAoB,OAAOA,QAAP,KAAoB,UAA5C,EAAwD;AACpDhE,IAAAA,uBAAuB,CAACT,IAAxB,CAA6ByE,QAA7B;AACH;;AAED,MACI,OAAOA,QAAP,KAAoB,UAApB,IACC,QAAOA,QAAP,MAAoB,QAApB,IAAgCA,QAAQ,KAAK,IAFlD,EAGE;AACEwD,IAAAA,4BAA4B,CAACzG,MAAD,EAAST,IAAT,EAAe0D,QAAf,CAA5B;AACH,GALD,MAKO;AACHyD,IAAAA,4BAA4B,CAAC1G,MAAD,EAAST,IAAT,CAA5B;AACH;AACJ;AAGD;AACA;;AAEA;;;;;;;AAMA,SAASkH,4BAAT,CAGIzG,MAHJ,EAIIT,IAJJ,EAKI0D,QALJ;AAOI,MAAMmB,IAAI,GAAGc,kBAAkB,CAC3BqB,GAA0B,CAACvG,MAAD,CADC,EAE3BlD,MAAM,CAACyC,IAAD,CAFqB,CAA/B;AAIA6E,EAAAA,IAAI,CAACgB,YAAL,GAAoBnC,QAApB;;AAEA,MAAImB,IAAI,CAACiB,YAAL,IAAqB,IAAzB,EAA+B;AAC3BjB,IAAAA,IAAI,CAACiB,YAAL,GAAoBlB,WAAW,CAC3BC,IAD2B,EAE3BuC,4BAA4B,CAACvC,IAAD,CAFD,EAG3B,KAH2B,EAI3B,KAJ2B,EAK3B,KAL2B,EAM3B/G,SAN2B,CAA/B;AAQH;AACJ;AAED;;;;;;;;AAMA,SAASqJ,4BAAT,CACI1G,MADJ,EAEIT,IAFJ;AAII,MAAM6E,IAAI,GAAGmC,GAA0B,CAACvG,MAAD,CAA1B,CAAmClD,MAAM,CAACyC,IAAD,CAAzC,CAAb;;AACA,MAAI6E,IAAI,IAAIA,IAAI,CAACiB,YAAjB,EAA+B;AAC3BhB,IAAAA,cAAc,CAACD,IAAD,EAAOA,IAAI,CAACiB,YAAL,CAAkBpC,QAAzB,EAAmC,KAAnC,CAAd;AACAmB,IAAAA,IAAI,CAACgB,YAAL,GAAoBhB,IAAI,CAACiB,YAAL,GAAoBhI,SAAxC;AACH;AACJ;AAED;;;;;;;AAKA,SAASsJ,4BAAT,CACIvC,IADJ;AAGI,SAAO,UAAUpD,KAAV;AACH,QAAMiC,QAAQ,GAAGmB,IAAI,CAACgB,YAAtB;;AACA,QAAI,OAAOnC,QAAP,KAAoB,UAAxB,EAAoC;AAChCA,MAAAA,QAAQ,CAAChG,IAAT,CAAc,IAAd,EAAoB+D,KAApB;AACH;AACJ,GALD;AAMH;;;;;ACzGD;;;;;;SAKgB4F;MAMNC;;;;;;;;;;;;IAA0BvB;;AAChC,OAAK,IAAI5I,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAG,UAAM4E,MAA1B,EAAkC,EAAE5E,CAApC,EAAuC;AACnCoK,IAAAA,oBAAoB,CAACD,iBAAiB,CAACxF,SAAnB,EAAoC3E,CAApC,4BAAoCA,CAApC,yBAAoCA,CAApC,EAApB;AACH;;AAED,SAAOmK,iBAAP;AACH;AA8BD;;;;;;;;SAOgBC,qBAKZ9G,QACAT,MACAwH;AAMAhK,EAAAA,MAAM,CAAC2D,cAAP,CAAsBV,MAAtB,cAAmCT,IAAnC,GAA2C;AACvC2B,IAAAA,GADuC;AAEnC,aAAOoF,sBAAsB,CAAC,IAAD,EAAO/G,IAAP,CAA7B;AACH,KAHsC;AAIvCI,IAAAA,GAJuC,eAInCvC,KAJmC;AAKnCoJ,MAAAA,sBAAsB,CAAC,IAAD,EAAOjH,IAAP,EAAanC,KAAb,CAAtB;AACH,KANsC;AAOvC2F,IAAAA,YAAY,EAAE,IAPyB;AAQvCpC,IAAAA,UAAU,EAAE;AAR2B,GAA3C;AAUH;;;;;"}